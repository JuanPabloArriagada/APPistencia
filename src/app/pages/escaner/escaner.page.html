<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button color="light"></ion-back-button>
    </ion-buttons>
    <ion-title>Escáner de Asistencia</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- Indicador de escaneo -->
  <div *ngIf="isScanning" class="scanning-indicator">
    <ion-spinner name="crescent" color="primary"></ion-spinner>
    <p>Escaneando...</p>
  </div>

  <!-- Resultados del escaneo -->
  <div *ngIf="datosClaseUI && escaneoData" class="scan-results">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Detalles de la Clase</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div class="class-details">
          <p><strong>Asignatura:</strong> {{ datosClaseUI.asignatura }}</p>
          <p><strong>Nombre:</strong> {{ datosClaseUI.nombreAsignatura }}</p>
          <p><strong>Día:</strong> {{ datosClaseUI.dia }}</p>
          <p><strong>Hora Inicio:</strong> {{ datosClaseUI.horaInicio }}</p>
          <p><strong>Hora Fin:</strong> {{ datosClaseUI.horaFin }}</p>
          <p><strong>Sala:</strong> {{ datosClaseUI.sala }}</p>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- Botón de escaneo -->
  <div *ngIf="!isScanning" class="scan-btn-container">
    <ion-button
      *ngIf="!escaneoData"
      class="scan-btn"
      expand="full"
      color="primary"
      (click)="scan()"
      [disabled]="isScanning"
    >
      <div *ngIf="isScanning" class="scan-indicator">
        <ion-spinner name="crescent"></ion-spinner>
      </div>
      <span>{{ isScanning ? 'Escaneando...' : 'Escanear Ahora' }}</span>
    </ion-button>
  </div>

  <!-- Botón para finalizar -->
  <ion-button expand="full" color="secondary" (click)="finalizarRegistro()" class="finish-btn">
    Finalizar Registro
  </ion-button>

</ion-content>

